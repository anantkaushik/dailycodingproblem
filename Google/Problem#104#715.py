"""
Determine whether a doubly linked list is a palindrome. What if itâ€™s singly linked?

For example, 1 -> 4 -> 3 -> 4 -> 1 returns true while 1 -> 4 returns false.
"""
def isPalindromeSingly(head):
    rev = None
    slow = fast = head
    while fast and fast.next:
        fast = fast.next.next
        rev, rev.next, slow = slow, rev, slow.next
    if fast:
        slow = slow.next
    while rev and rev.data == slow.data:
        rev = rev.next
        slow = slow.next
    return not rev
